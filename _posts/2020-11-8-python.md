# 协程
`通过asyncio模块实现(python3.4版本之后的标准库)`
```python
import asyncio

@asyncio.coroutine					#打上这个装饰器，才能是协程函数
def fun1():
    print(1)
    yield from asyncio.sleep(2)    #遇到IO耗时操作,自动化切换到tasks中其他任务
    print(2)

@asyncio.coroutine
def fun2():
    print(3)
    yield from asyncio.sleep(2)     #遇到IO耗时操作,自动化切换到tasks中其他任务
    print(4)

tasks = [
     asyncio.ensure_future(fun1()),
     asyncio.ensure_future(fun2())		#列表中是来回切换的函数
 ]
loop = asyncio.get_event_loop()
loop.run_until_complete(fun1())

#注意遇到IO阻塞 自动切换(python3.5之后推荐使用关键字)
# 12345678910111213141516171819202122
```

`async & await 关键字实现协程(Python3.5版本之后)`

```python
import asyncio

async def fun1():
    print(1)
    await asyncio.sleep(2)    #遇到IO耗时操作,自动化切换到tasks中其他任务
    print(2)


async def fun2():
    print(3)
    await asyncio.sleep(2)     #遇到IO耗时操作,自动化切换到tasks中其他任务
    print(4)

tasks = [
     asyncio.ensure_future(fun1()),
     asyncio.ensure_future(fun2())
 ]
loop = asyncio.get_event_loop()
loop.run_until_complete(fun1())
#注意遇到IO阻塞 自动切换
```
